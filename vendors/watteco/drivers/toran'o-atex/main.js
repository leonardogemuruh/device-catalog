var driver;(()=>{var e={580:e=>{let t=6,a=10,i=12,r={0:0,1:1,2:4,3:4,4:8,5:8};r[t]=16,r[7]=16,r[8]=24,r[9]=24,r[a]=32,r[11]=32,r[i]=32;let n=14,o=[[{sz:2,lbl:0},{sz:2,lbl:1},{sz:2,lbl:3},{sz:3,lbl:5},{sz:4,lbl:9},{sz:5,lbl:17},{sz:6,lbl:33},{sz:7,lbl:65},{sz:8,lbl:129},{sz:10,lbl:512},{sz:11,lbl:1026},{sz:11,lbl:1027},{sz:11,lbl:1028},{sz:11,lbl:1029},{sz:11,lbl:1030},{sz:11,lbl:1031}],[{sz:7,lbl:111},{sz:5,lbl:26},{sz:4,lbl:12},{sz:3,lbl:3},{sz:3,lbl:7},{sz:2,lbl:2},{sz:2,lbl:0},{sz:3,lbl:2},{sz:6,lbl:54},{sz:9,lbl:443},{sz:9,lbl:441},{sz:10,lbl:885},{sz:10,lbl:884},{sz:10,lbl:880},{sz:11,lbl:1763},{sz:11,lbl:1762}],[{sz:4,lbl:9},{sz:3,lbl:5},{sz:2,lbl:0},{sz:2,lbl:1},{sz:2,lbl:3},{sz:5,lbl:17},{sz:6,lbl:33},{sz:7,lbl:65},{sz:8,lbl:129},{sz:10,lbl:512},{sz:11,lbl:1026},{sz:11,lbl:1027},{sz:11,lbl:1028},{sz:11,lbl:1029},{sz:11,lbl:1030},{sz:11,lbl:1031}]];function l(e,t,a,i){return{uncompressSamples:[{data_relative_timestamp:i,data:{value:u(e,t),label:a}}],codingType:0,codingTable:0,resolution:null}}function d(e,t){for(let a=0;a<e.length;a++)if(e[a].taglbl===t.lbl)return a;throw new Error("Batch : Cannot find i1 in argList")}function s(e,t){if(t){let a=e.getNextBifromHi(1);return _(e,t,a)}return e.getNextSample(a)}function _(e,t,i){return i>n?e.getNextSample(a):i>0?function(e,t,i){return e.getNextSample(a,i)+t+Math.pow(2,i)-1}(e,t,i):t}function u(e,t){let a=e.getNextSample(t);return t===i?function(e){let t=2147483648&e?-1:1,a=(e>>23&255)-127,i=8388607&e;if(128===a)return t*(i?Number.NaN:Number.POSITIVE_INFINITY);if(-127===a){if(0===i)return 0*t;a=-126,i/=1<<22}else i=(i|1<<23)/(1<<23);return t*i*Math.pow(2,a)}(a):a}function p(e,a,i,r,n){let o=e.getNextSample(t,n);return 0===i?function(e,t,a,i){return e>=Math.pow(2,i-1)?e*t+a:(e+1-Math.pow(2,i))*t+a}(o,r,a,n):1===i?(o+Math.pow(2,n)-1)*r+a:a-(o+(Math.pow(2,n)-1))*r}Math.trunc=Math.trunc||function(e){return isNaN(e)?NaN:e>0?Math.floor(e):Math.ceil(e)},e.exports={normalisation_batch:function(e){let t=e.date,u=function(e,t,u,c){let m=function(){let e=[],t=0;for(;t<16;)e.push({codingType:0,codingTable:0,resolution:null,uncompressSamples:[]}),t+=1;return{batch_counter:0,batch_relative_timestamp:0,series:e}}(),f=function(e){function t(e,t,a){let i=t,r=a-1;if(8*e.length<i+a)throw new Error("Batch : Verify that dest buf is large enough");let n=0,o=0;for(;a>0;)e[i>>3]&1<<(7&i)&&(o|=1<<r-n),a--,n++,i++;return o}return{i1:0,byteArray:e,getNextSample:function(e,t){let a=t||r[e],n=this.i1;if(this.i1+=a,e===i&&32!==a)throw new Error("Batch : Mauvais sampletype");let o=0,l=Math.trunc((a-1)/8)+1,d=a%8;for(0===d&&l>0&&(d=8);l>0;){let e=0;for(;d>0;){let t=n>>3;this.byteArray[t]&1<<(7&n)&&(o|=1<<8*(l-1)+e),d--,e++,n+=1}l--,d=8}if((3==e||5==e||7==e||9==e)&&o&1<<a-1)for(let e=a;e<32;e++)o|=1<<e,a++;return o},getNextBifromHi:function(e){for(let a=2;a<12;a++){let i=t(this.byteArray,this.i1,a);for(let t=0;t<o[e].length;t++)if(o[e][t].sz==a&&i==o[e][t].lbl)return this.i1+=a,t}throw new Error("Bi not found in HUFF table")}}}(function(e){for(var t=[];e.length>=2;)t.push(parseInt(e.substring(0,2),16)),e=e.substring(2,e.length);return t}(u)),g=function(e){let t=e.toString(2);for(;t.length<8;)t="0"+t;return{isCommonTimestamp:parseInt(t[t.length-2],2),hasSample:!parseInt(t[t.length-3],2),batch_req:parseInt(t[t.length-4],2),nb_of_type_measure:parseInt(t.substring(0,4),2)}}(f.getNextSample(4));m.batch_counter=f.getNextSample(4,3),f.getNextSample(4,1);let E=function(e,t,a,i,r){let n=0,o=0;for(let _=0;_<i.nb_of_type_measure;_++){let u={size:r,lbl:t.getNextSample(4,r)},p=d(a,u);0===_&&(o=p),n=s(t,n),e.series[p]=l(t,a[p].sampletype,u.lbl,n),i.hasSample&&(e.series[p].codingType=t.getNextSample(4,2),e.series[p].codingTable=t.getNextSample(4,2))}return{last_timestamp:n,i1_of_the_first_sample:o}}(m,f,t,g,e),P=E.last_timestamp,v=E.i1_of_the_first_sample;return g.hasSample&&(P=function(e,t,i,r,o,l,s){return l.isCommonTimestamp?function(e,t,i,r,o,l){let s=t.getNextSample(4,8),_={},u=function(e,t,i,r){let o=[],l=0,d=t.getNextSample(4,2);for(let s=0;s<i;s++){let i=t.getNextBifromHi(d);if(i<=n)if(0===s)o.push(e.series[r].uncompressSamples[0].data_relative_timestamp);else if(i>0){let e=o[s-1];o.push(t.getNextSample(a,i)+e+Math.pow(2,i)-1)}else o.push(precedingTimestamp);else o.push(t.getNextSample(a));l=o[s]}return{timestampCommon:o,lastTimestamp:l}}(e,t,s,i),c=u.timestampCommon,m=u.lastTimestamp;for(let a=0;a<o.nb_of_type_measure;a++){let a=1;_.lbl=t.getNextSample(4,l);let i=d(r,_);for(let o=0;o<s;o++)if(t.getNextSample(4,1)){let l=t.getNextBifromHi(e.series[i].codingTable),d={data_relative_timestamp:0,data:{}};if(l<=n){let n=e.series[i].uncompressSamples[e.series[i].uncompressSamples.length-1].data.value;if(l>0)d.data.value=p(t,n,e.series[i].codingType,r[i].resol,l);else{if(a){a=0;continue}d.data.value=n}}else d.data.value=t.getNextSample(r[i].sampletype);d.data_relative_timestamp=c[o],e.series[i].uncompressSamples.push(d)}}return m}(e,t,i,r,l,s):function(e,t,a,i,r,o){let l={};for(let s=0;s<r.nb_of_type_measure;s++){l.lbl=t.getNextSample(4,o);let r=d(a,l),s=t.getNextSample(4,8);if(s){let o=t.getNextSample(4,2);for(let l=0;l<s;l++){let l=e.series[r].uncompressSamples[e.series[r].uncompressSamples.length-1].data_relative_timestamp,d={data_relative_timestamp:0,data:{}},s=t.getNextBifromHi(o);if(d.data_relative_timestamp=_(t,l,s),d.data_relative_timestamp>i&&(i=d.data_relative_timestamp),s=t.getNextBifromHi(e.series[r].codingTable),s<=n){let i=e.series[r].uncompressSamples[e.series[r].uncompressSamples.length-1].data.value;d.data.value=s>0?p(t,i,e.series[r].codingType,a[r].resol,s):i}else d.data.value=t.getNextSample(a[r].sampletype);e.series[r].uncompressSamples.push(d)}}}return i}(e,t,r,o,l,s)}(m,f,v,t,P,g,e)),m.batch_relative_timestamp=s(f,P),function(e,t,a){let i={batch_counter:e.batch_counter,batch_relative_timestamp:e.batch_relative_timestamp};return a&&(i.batch_absolute_timestamp=a),i.dataset=e.series.reduce((function(i,r,n){return i.concat(r.uncompressSamples.map((function(i){let r={data_relative_timestamp:i.data_relative_timestamp,data:{value:t[n].divide?i.data.value/t[n].divide:i.data.value,label:t[n].taglbl}};var o,l,d;return t[n].lblname&&(r.data.label_name=t[n].lblname),a&&(r.data_absolute_timestamp=(o=a,l=e.batch_relative_timestamp,d=i.data_relative_timestamp,new Date(new Date(o)-1e3*(l-d)).toISOString())),r})))}),[]),i}(m,t,c)}(e.batch1,e.batch2,e.payload,t),c=[];for(let e=0;e<u.dataset.length;e++){let t=u.dataset[e],a={variable:t.data.label_name,value:t.data.value,date:t.data_absolute_timestamp};c.push(a)}return c}}},810:(e,t,a)=>{const i=a(794),r=a(580);e.exports={watteco_decodeUplink:function(e,t,a){e.bytes,e.fPort;let n=e.recvTime;try{let o=i.normalisation_standard(e,a),l=o.payload;if("batch"!==o.type)return{data:o.data,warnings:o.warning};{let e={batch1:t[0],batch2:t[1],payload:l,date:n};try{return{data:r.normalisation_batch(e),warnings:[]}}catch(e){return{error:e.message,warnings:[]}}}}catch(e){return{error:e.message,warnings:[]}}}}},794:e=>{let t={16:{name:"boolean",size:1},8:{name:"general8",size:1},9:{name:"general16",size:2},10:{name:"general24",size:3},11:{name:"general32",size:4},24:{name:"bitmap8",size:1},25:{name:"bitmap16",size:2},32:{name:"uint8",size:1},33:{name:"uint16",size:2},34:{name:"uint24",size:3},35:{name:"uint32",size:4},40:{name:"int8",size:1},41:{name:"int16",size:2},43:{name:"int32",size:4},48:{name:"enum8",size:1},66:{name:"char string",size:1},65:{name:"bytes string",size:1},67:{name:"long bytes string",size:2},76:{name:"structured ordered sequence",size:2},57:{name:"single",size:4}},a={32778:{0:{0:{divider:1,function_type:"int",name:"positive_active_energy",size:4},1:{divider:1,function_type:"int",name:"negative_active_energy",size:4},2:{divider:1,function_type:"int",name:"positive_reactive_energy",size:4},3:{divider:1,function_type:"int",name:"negative_reactive_energy",size:4},4:{divider:1,function_type:"int",name:"positive_active_power",size:4},5:{divider:1,function_type:"int",name:"negative_active_power",size:4},6:{divider:1,function_type:"int",name:"positive_reactive_power",size:4},7:{divider:1,function_type:"int",name:"negative_reactive_power",size:4}}},32784:{0:{0:{divider:1,function_type:"int",name:"active_energy_a",size:4},1:{divider:1,function_type:"int",name:"reactive_energy_a",size:4},2:{divider:1,function_type:"int",name:"active_energy_b",size:4},3:{divider:1,function_type:"int",name:"reactive_energy_b",size:4},4:{divider:1,function_type:"int",name:"active_energy_c",size:4},5:{divider:1,function_type:"int",name:"reactive_energy_c",size:4},6:{divider:1,function_type:"int",name:"active_energy_abc",size:4},7:{divider:1,function_type:"int",name:"reactive_energy_abc",size:4}},1:{0:{divider:1,function_type:"int",name:"active_power_a",size:4},1:{divider:1,function_type:"int",name:"reactive_power_a",size:4},2:{divider:1,function_type:"int",name:"active_power_b",size:4},3:{divider:1,function_type:"int",name:"reactive_power_b",size:4},4:{divider:1,function_type:"int",name:"active_power_c",size:4},5:{divider:1,function_type:"int",name:"reactive_power_c",size:4},6:{divider:1,function_type:"int",name:"active_power_abc",size:4},7:{divider:1,function_type:"int",name:"reactive_power_abc",size:4}}},32779:{0:{0:{divider:10,function_type:"int",name:"Vrms",size:2},1:{divider:10,function_type:"int",name:"Irms",size:2},2:{divider:1,function_type:"int",name:"angle",size:2}}},32781:{0:{0:{divider:10,function_type:"int",name:"Vrms_a",size:2},1:{divider:10,function_type:"int",name:"Irms_a",size:2},2:{divider:1,function_type:"int",name:"angle_a",size:2},3:{divider:10,function_type:"int",name:"Vrms_b",size:2},4:{divider:10,function_type:"int",name:"Irms_b",size:2},5:{divider:1,function_type:"int",name:"angle_b",size:2},6:{divider:10,function_type:"int",name:"Vrms_c",size:2},7:{divider:10,function_type:"int",name:"Irms_c",size:2},8:{divider:1,function_type:"int",name:"angle_c",size:2}}},32850:{0:{0:{divider:1e3,function_type:"int",name:"frequency",size:2},1:{divider:1e3,function_type:"int",name:"frequency_min",size:2},2:{divider:1e3,function_type:"int",name:"frequency_max",size:2},3:{divider:10,function_type:"int",name:"Vrms",size:2},4:{divider:10,function_type:"int",name:"Vrms_min",size:2},5:{divider:10,function_type:"int",name:"Vrms_max",size:2},6:{divider:10,function_type:"int",name:"Vpeak",size:2},7:{divider:10,function_type:"int",name:"Vpeak_min",size:2},8:{divider:10,function_type:"int",name:"Vpeak_max",size:2},9:{divider:1,function_type:"int",name:"over_voltage",size:2},10:{divider:1,function_type:"int",name:"sag_voltage",size:2}}},32773:{0:{0:{divider:1,function_type:"none",name:"pin_state_1",size:1},1:{divider:1,function_type:"none",name:"pin_state_2",size:1},2:{divider:1,function_type:"none",name:"pin_state_3",size:1},3:{divider:1,function_type:"none",name:"pin_state_4",size:1},4:{divider:1,function_type:"none",name:"pin_state_5",size:1},5:{divider:1,function_type:"none",name:"pin_state_6",size:1},6:{divider:1,function_type:"none",name:"pin_state_7",size:1},7:{divider:1,function_type:"none",name:"pin_state_8",size:1},8:{divider:1,function_type:"none",name:"pin_state_9",size:1},9:{divider:1,function_type:"none",name:"pin_state_10",size:1}}},80:{6:{0:{divider:1e3,function_type:"none",name:"power_modes",size:2},1:{divider:1e3,function_type:"none",name:"current_power_source",size:2},2:{divider:1e3,function_type:"none",name:"constant_power",size:2},3:{divider:1e3,function_type:"none",name:"rechargeable_battery",size:2},4:{divider:1e3,function_type:"none",name:"disposable_battery",size:2},5:{divider:1e3,function_type:"none",name:"solar_harvesting",size:2},6:{divider:1e3,function_type:"none",name:"TIC_harvesting",size:2}}}};function i(e,t){return 2===t&&(32768&e)>0&&(e-=65536),3===t&&(8388608&e)>0&&(e-=16777216),4===t&&(2147483648&e)>0&&(e-=4294967296),e}function r(e){let t=2147483648&e?-1:1,a=(e>>23&255)-127,i=8388607&e;if(128===a)return t*(i?Number.NaN:Number.POSITIVE_INFINITY);if(-127===a){if(0===i)return 0;a=-126,i/=1<<23}else i=(i|1<<23)/(1<<23);return t*i*Math.pow(2,a)}function n(e,t,a,i){void 0===i&&(i=!1);let r,n,o="U"!=a.substr(0,1),l=parseInt(a.substr(1,2),10)/8,d=l;i?(r=-1,n=t+l-1):r=1,n=t;let s=0;for(let t=n;d>0;t+=r,d--)s=(s<<8)+e[t];return o&&l<8&&128&e[n]&&(s-=1<<8*l),s}function o(e,t){let a=e.toString(16).toUpperCase();for(t=null==t?t=2:t;a.length<t;)a="0"+a;return"0x"+a}function l(e,t){return String(e).padStart(t,"0")}function d(e){return""+l(e.toString(2),8)}function _(e){return parseInt(e,2)}function u(e,t,a,i,r,n){let o=0;for(;0===a;){let l=i[n+e*o];if(void 0===l){r.zclheader.alarmmsg=t,a=1;break}let s=d(l),u=4*_(s[5])+2*_(s[6])+_(s[7]);if("1"===s[3]&&"0"===s[4]){let e="";e="1"===s[1]?"exceed":"fall";let a="alarm, criterion_index: "+u+", mode: threshold, crossing: "+e;t.push(a)}if("0"===s[3]&&"1"===s[4]){let e="alarm, criterion_index: "+u+", mode: delta";t.push(e)}o+=1}}function p(e,n,o,l,s,u,p,c,m,f,g,E){let P=t[m],v=g,b=0,S=P.size,h=P.name;void 0!==E&&(b=1,S=a[e][n][E].size),2===S?function(e,t,n,o,l,s,u,p,c,m,f,g){let E=0,P=0,v=0,b=0,S=0,h=0;1===m&&(e+=1,h=1),void 0===c&&(c="single"===p?"float":"int8"===p||"int16"===p||"int32"===p?"int":"none");let z=o[s+e*E];for(void 0===z&&(l.zclheader.alarmmsg=t,n=1);0===n;){if(1===m){let t=o[s+e*E+1+S];u=a[f][g][t].divider,c=a[f][g][t].function_type}let p=d(z),A=4*_(p[5])+2*_(p[6])+_(p[7]);if("1"===p[3]&&"0"===p[4]){let n="",l="",_="",m="";if(m="1"===p[1]?"exceed":"fall",0===h)"none"===c?(n=((256*o[s+1+e*E+S]+o[s+2+e*E+S])/u).toString(),_=((256*o[s+3+e*E+S]+o[s+4+e*E+S])/u).toString()):"int"===c?(n=i((256*o[s+1+e*E+S]+o[s+2+e*E+S])/u).toString(),_=i((256*o[s+3+e*E+S]+o[s+4+e*E+S])/u).toString()):"float"===c&&(n=r((256*o[s+1+e*E+S]+o[s+2+e*E]+S)/u).toString(),_=r((256*o[s+3+e*E+S]+o[s+4+e*E]+S)/u).toString()),P=d(o[s+5+e*E+S]),P=parseInt(P,2),P>=128?(v=d(256*o[s+6+e*E+S]+o[s+7+e*E+S]),v=parseInt(v,2),b=d(256*o[s+8+e*E+S]+o[s+9+e*E+S]),b=parseInt(b,2),S+=4,l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences_up: "+v+", occurences_down: "+b):l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences: "+P;else{let t=o[s+e*E+1+S],p=a[f][g][t].name;"none"===c?(n=((256*o[s+2+e*E+S]+o[s+3+e*E+S])/u).toString(),_=((256*o[s+4+e*E+S]+o[s+5+e*E+S])/u).toString()):"int"===c?(n=i((256*o[s+2+e*E+S]+o[s+3+e*E+S])/u).toString(),_=i((256*o[s+4+e*E+S]+o[s+5+e*E+S])/u).toString()):"float"===c&&(n=r((256*o[s+2+e*E+S]+o[s+3+e*E+S])/u).toString(),_=r((256*o[s+4+e*E+S]+o[s+5+e*E+S])/u).toString()),P=d(o[s+6+e*E+S]),P=parseInt(P,2),P>=128?(v=d(256*o[s+7+e*E+S]+o[s+8+e*E+S]),v=parseInt(v,2),b=d(256*o[s+9+e*E+S]+o[s+10+e*E+S]),b=parseInt(b,2),S+=4,l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences_up: "+v+", occurences_down: "+b+", field: "+p):l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences: "+P+", field: "+p}t.push(l)}if("0"===p[3]&&"1"===p[4]){e-=3;let n="",l="";if(0===h)"none"===c?n=((256*o[s+1+e*E+S]+o[s+2+e*E+S])/u).toString():"int"===c?n=i((256*o[s+1+e*E+S]+o[s+2+e*E+S])/u).toString():"float"===c&&(n=r((256*o[s+1+e*E+S]+o[s+2+e*E+S])/u).toString()),l="alarm, criterion_index: "+A+", mode: delta, value: "+n;else{let t=o[s+e*E+1+S],d=a[f][g][t].name;"none"===c?n=((256*o[s+2+e*E+S]+o[s+3+e*E+S])/u).toString():"int"===c?n=i((256*o[s+2+e*E+S]+o[s+3+e*E+S])/u).toString():"float"===c&&(n=r((256*o[s+2+e*E+S]+o[s+3+e*E+S])/u).toString()),l="alarm, criterion_index: "+A+", mode: delta, value: "+n+", field: "+d}t.push(l)}if(E+=1,P=0,b=0,v=0,z=o[s+e*E+S],void 0===z){l.zclheader.alarmmsg=t,n=1;break}}}(o,l,s,u,p,c,f,h,v,b,e,n):4===S?function(e,t,n,o,l,s,u,p,c,m,f,g){let E=0,P=0,v=0,b=0,S=0,h=0;1===m&&(e+=1,h=1),void 0===c&&(c="single"===p?"float":"int8"===p||"int16"===p||"int32"===p?"int":"none");let z=o[s+e*E];for(void 0===z&&(l.zclheader.alarmmsg=t,n=1);0===n;){if(1===m){let t=o[s+e*E+1+P];u=a[f][g][t].divider,c=a[f][g][t].function_type}let p=d(z),A=4*_(p[5])+2*_(p[6])+_(p[7]);if("1"===p[3]&&"0"===p[4]){let n="",l="",_="",m="";if(m="1"===p[1]?"exceed":"fall",0===h)"none"===c?(n=((256*o[s+1+e*E+P]*256*256+256*o[s+2+e*E+P]*256+256*o[s+3+e*E+P]+o[s+4+e*E+P])/u).toString(),_=((256*o[s+5+e*E+P]*256*256+256*o[s+6+e*E+P]*256+256*o[s+7+e*E+P]+o[s+8+e*E+P])/u).toString()):"int"===c?(n=i((256*o[s+1+e*E+P]*256*256+256*o[s+2+e*E+P]*256+256*o[s+3+e*E+P]+o[s+4+e*E+P])/u).toString(),_=i((256*o[s+5+e*E+P]*256*256+256*o[s+6+e*E+P]*256+256*o[s+7+e*E+P]+o[s+8+e*E+P])/u).toString()):"float"===c&&(n=r((256*o[s+1+e*E+P]*256*256+256*o[s+2+e*E+P]*256+256*o[s+3+e*E+P]+o[s+4+e*E+P])/u).toString(),_=r((256*o[s+5+e*E+P]*256*256+256*o[s+6+e*E+P]*256+256*o[s+7+e*E+P]+o[s+8+e*E+P])/u).toString()),v=d(o[s+9+e*E+P]),v=parseInt(v,2),v>=128?(b=d(256*o[s+10+e*E+P]+o[s+11+e*E+P]),b=parseInt(b,2),S=d(256*o[s+12+e*E+P]+o[s+13+e*E+P]),S=parseInt(S,2),P+=4,l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences_up: "+b+", occurences_down: "+S):l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences: "+v;else{let t=o[s+e*E+1],p=a[f][g][t].name;"none"===c?(n=((256*o[s+2+e*E+P]*256*256+256*o[s+3+e*E+P]*256+256*o[s+4+e*E+P]+o[s+5+e*E+P])/u).toString(),_=((256*o[s+6+e*E+P]*256*256+256*o[s+7+e*E+P]*256+256*o[s+8+e*E+P]+o[s+9+e*E+P])/u).toString()):"int"===c?(n=i((256*o[s+2+e*E+P]*256*256+256*o[s+3+e*E+P]*256+256*o[s+4+e*E+P]+o[s+5+e*E+P])/u).toString(),_=i((256*o[s+6+e*E+P]*256*256+256*o[s+7+e*E+P]*256+256*o[s+8+e*E+P]+o[s+9+e*E+P])/u).toString()):"float"===c&&(n=r((256*o[s+2+e*E+P]*256*256+256*o[s+3+e*E+P]*256+256*o[s+4+e*E+P]+o[s+5+e*E+P])/u).toString(),_=r((256*o[s+6+e*E+P]*256*256+256*o[s+7+e*E+P]*256+256*o[s+8+e*E+P]+o[s+9+e*E+P])/u).toString()),v=d(o[s+10+e*E+P]),v=parseInt(v,2),v>=128?(b=d(256*o[s+11+e*E+P]+o[s+12+e*E+P]),b=parseInt(b,2),S=d(256*o[s+13+e*E+P]+o[s+14+e*E+P]),S=parseInt(S,2),P+=4,l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences_up: "+b+", occurences_down: "+S+", field: "+p):l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences: "+v+", field: "+p}t.push(l)}if("0"===p[3]&&"1"===p[4]){e-=3;let n="",l="";if(0===h)"none"===c?n=((256*o[s+1+e*E+P]*256*256+256*o[s+2+e*E+P]*256+256*o[s+3+e*E+P]+o[s+4+e*E+P])/u).toString():"int"===c?n=i((256*o[s+1+e*E+P]*256*256+256*o[s+2+e*E+P]*256+256*o[s+3+e*E+P]+o[s+4+e*E+P])/u).toString():"float"===c&&(n=r((256*o[s+1+e*E+P]*256*256+256*o[s+2+e*E+P]*256+256*o[s+3+e*E+P]+o[s+4+e*E+P])/u).toString()),l="alarm, criterion_index: "+A+", mode: delta, value: "+n;else{let t=o[s+e*E+1],d=a[f][g][t].name;"none"===c?n=((256*o[s+2+e*E+P]*256*256+256*o[s+3+e*E+P]*256+256*o[s+4+e*E+P]+o[s+5+e*E+P])/u).toString():"int"===c?n=i((256*o[s+2+e*E+P]*256*256+256*o[s+3+e*E+P]*256+256*o[s+4+e*E+P]+o[s+5+e*E+P])/u).toString():"float"===c&&(n=r((256*o[s+2+e*E+P]*256*256+256*o[s+3+e*E+P]*256+256*o[s+4+e*E+P]+o[s+5+e*E+P])/u).toString()),l="alarm, criterion_index: "+A+", mode: delta, value: "+n+", field: "+d}t.push(l)}if(E+=1,v=0,S=0,b=0,z=o[s+e*E+P],void 0===z){l.zclheader.alarmmsg=t,n=1;break}}}(o,l,s,u,p,c,f,h,v,b,e,n):1===S?function(e,t,n,o,l,s,u,p,c,m,f,g){let E=0,P=0,v=0,b=0,S=0,h=0;1===m&&(e+=1,h=1),void 0===c&&(c="single"===p?"float":"int8"===p||"int16"===p||"int32"===p?"int":"none");let z=o[s+e*E];for(void 0===z&&(l.zclheader.alarmmsg=t,n=1);0===n;){if(1===m){let t=o[s+e*E+1+P];u=a[f][g][t].divider,c=a[f][g][t].function_type}let p=d(z),A=4*_(p[5])+2*_(p[6])+_(p[7]);if("1"===p[3]&&"0"===p[4]){let n="",l="",_="",m="";if(m="1"===p[1]?"exceed":"fall",0===h)"none"===c?(n=(o[s+1+e*E+P]/u).toString(),_=(o[s+2+e*E+P]/u).toString()):"int"===c?(n=i(o[s+1+e*E+P]/u).toString(),_=i(o[s+2+e*E+P]/u).toString()):"float"===c&&(n=r(o[s+1+e*E+P]/u).toString(),_=r(o[s+2+e*E+P]/u).toString()),v=d(o[s+3+e*E+P]),v=parseInt(v,2),v>=128?(b=d(256*o[s+4+e*E+P]+o[s+5+e*E+P]),b=parseInt(b,2),S=d(256*o[s+6+e*E+P]+o[s+7+e*E+P]),S=parseInt(S,2),P+=4,l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences_up: "+b+", occurences_down: "+S):l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences: "+v;else{let t=o[s+e*E+1+P],p=a[f][g][t].name;"none"===c?(n=(o[s+2+e*E+P]/u).toString(),_=(o[s+3+e*E+P]/u).toString()):"int"===c?(n=i(o[s+2+e*E+P]/u).toString(),_=i(o[s+3+e*E+P]/u).toString()):"float"===c&&(n=r(o[s+2+e*E+P]/u).toString(),_=r(o[s+3+e*E+P]/u).toString()),v=d(o[s+4+e*E+P]),v=parseInt(v,2),v>=128?(b=d(256*o[s+5+e*E+P]+o[s+6+e*E+P]),b=parseInt(b,2),S=d(256*o[s+7+e*E+P]+o[s+8+e*E+P]),S=parseInt(S,2),P+=4,l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences_up: "+b+", occurences_down: "+S+", field: "+p):l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences: "+v+", field: "+p}t.push(l)}if("0"===p[3]&&"1"===p[4]){e-=3;let n="",l="";if(0===h)"none"===c?n=(o[s+1+e*E+P]/u).toString():"int"===c?n=i(o[s+1+e*E+P]/u).toString():"float"===c&&(n=r(o[s+1+e*E+P]/u).toString()),l="alarm, criterion_index: "+A+", mode: delta, value: "+n;else{let t=o[s+e*E+1+P],d=a[f][g][t].name;"none"===c?n=(o[s+2+e*E+P]/u).toString():"int"===c?n=i(o[s+2+e*E+P]/u).toString():"float"===c&&(n=r(o[s+2+e*E+P]/u).toString()),l="alarm, criterion_index: "+A+", mode: delta, value: "+n+", field: "+d}t.push(l)}if(E+=1,v=0,S=0,b=0,z=o[s+e*E+P],void 0===z){l.zclheader.alarmmsg=t,n=1;break}}}(o,l,s,u,p,c,f,h,v,b,e,n):3===S&&function(e,t,n,o,l,s,u,p,c,m,f,g){let E=0,P=0,v=0,b=0,S=0,h=0;1===m&&(e+=1,h=1),void 0===c&&(c="single"===p?"float":"int8"===p||"int16"===p||"int32"===p?"int":"none");let z=o[s+e*E];for(void 0===z&&(l.zclheader.alarmmsg=t,n=1);0===n;){if(1===m){let t=o[s+e*E+1+P];u=a[f][g][t].divider,c=a[f][g][t].function_type}let p=d(z),A=4*_(p[5])+2*_(p[6])+_(p[7]);if("1"===p[3]&&"0"===p[4]){let n="",l="",_="",m="";if(m="1"===p[1]?"exceed":"fall",0===h)"none"===c?(n=((256*o[s+1+e*E+P]+o[s+2+e*E+P]+o[s+3+e*E+P])/u).toString(),_=((256*o[s+4+e*E+P]+o[s+5+e*E+P]+o[s+6+e*E+P])/u).toString()):"int"===c?(n=i((256*o[s+1+e*E+P]+o[s+2+e*E+P]+o[s+3+e*E+P])/u).toString(),_=i((256*o[s+4+e*E+P]+o[s+5+e*E+P]+o[s+6+e*E+P])/u).toString()):"float"===c&&(n=r((256*o[s+1+e*E+P]+o[s+2+e*E+P]+o[s+3+e*E+P])/u).toString(),_=r((256*o[s+4+e*E+P]+o[s+5+e*E+P]+o[s+6+e*E+P])/u).toString()),v=d(o[s+7+e*E+P]),v=parseInt(v,2),v>=128?(b=d(256*o[s+8+e*E+P]+o[s+9+e*E+P]),b=parseInt(b,2),S=d(256*o[s+10+e*E+P]+o[s+11+e*E+P]),S=parseInt(S,2),P+=4,l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences_up: "+b+", occurences_down: "+S):l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences: "+v;else{let t=o[s+e*E+1+P],p=a[f][g][t].name;"none"===c?(n=((256*o[s+2+e*E+P]+o[s+3+e*E+P]+o[s+4+e*E+P])/u).toString(),_=((256*o[s+5+e*E+P]+o[s+6+e*E+P]+o[s+7+e*E+P])/u).toString()):"int"===c?(n=i((256*o[s+2+e*E+P]+o[s+3+e*E+P]+o[s+4+e*E+P])/u).toString(),_=i((256*o[s+5+e*E+P]+o[s+6+e*E+P]+o[s+7+e*E+P])/u).toString()):"float"===c&&(n=r((256*o[s+2+e*E+P]+o[s+3+e*E+P]+o[s+4+e*E+P])/u).toString(),_=r((256*o[s+5+e*E+P]+o[s+6+e*E+P]+o[s+7+e*E+P])/u).toString()),v=d(o[s+8+e*E+P]),v=parseInt(v,2),v>=128?(b=d(256*o[s+9+e*E+P]+o[s+10+e*E+P]),b=parseInt(b,2),S=d(256*o[s+11+e*E+P]+o[s+12+e*E+P]),S=parseInt(S,2),P+=4,l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences_up: "+b+", occurences_down: "+S+", field: "+p):l="alarm, criterion_index: "+A+", mode: threshold, crossing: "+m+", value: "+n+", gap: "+_+", occurences: "+v+", field: "+p}t.push(l)}if("0"===p[3]&&"1"===p[4]){e-=3;let n="",l="";if(0===h)"none"===c?n=((256*o[s+1+e*E+P]*256+256*o[s+2+e*E+P]+o[s+3+e*E+P])/u).toString():"int"===c?n=i((256*o[s+1+e*E+P]+o[s+2+e*E+P]+o[s+3+e*E+P])/u).toString():"float"===c&&(n=r((256*o[s+1+e*E+P]+o[s+2+e*E+P]+o[s+3+e*E+P])/u).toString()),l="alarm, criterion_index: "+A+", mode: delta, value: "+n;else{let t=o[s+e*E+1],d=a[f][g][t].name;"none"===c?n=((256*o[s+2+e*E+P]+o[s+3+e*E+P]+o[s+4+e*E+P])/u).toString():"int"===c?n=i((256*o[s+2+e*E+P]+o[s+3+e*E+P]+o[s+4+e*E+P])/u).toString():"float"===c&&(n=r((256*o[s+2+e*E+P]+o[s+3+e*E+P]+o[s+4+e*E+P])/u).toString()),l="alarm, criterion_index: "+A+", mode: delta, value: "+n+", field: "+d}t.push(l)}if(E+=1,v=0,S=0,b=0,z=o[s+e*E+P],void 0===z){l.zclheader.alarmmsg=t,n=1;break}}}(o,l,s,u,p,c,f,h,v,b,e,n)}function c(e){let t="";for(let a=0;a<e.length;a++){let i=e[a].toString(16).toUpperCase();1===i.length&&(i="0"+i),t+=i}return t}function f(e,t){let a={lora:{}};a.lora.port=t;let _=e.length,f="";a.lora.payload="";for(let t=0;t<_;t++){f=e[t].toString(16).toUpperCase(),1===f.length&&(f="0"+f),a.lora.payload+=f;let i=new Date;a.lora.date=i.toISOString()}if(125===t)if(!1==!(1&e[0])){a.zclheader={},a.zclheader.report="standard";let t=-1,_=-1,g=-1;if(a.zclheader.endpoint=(224&e[0])>>5|(6&e[0])<<2,_=e[1],a.zclheader.cmdID=o(_,2),g=256*e[2]+e[3],a.zclheader.clustID=o(g,4),10===_|138===_|1===_){a.data={},t=256*e[4]+e[5],a.zclheader.attID=o(t,4);let E=e[4],P=0;if(10!==_&&138!==_||(P=7),138===_&&(a.zclheader.alarm=1),1===_&&(P=8,a.zclheader.status=e[6]),83!==g&&84!==g&&85!==g&&86!==g&&87!==g||(a.data=function(e,t,a){const i=["!?!","*",""," ACTIF","ACTIF","CONSO","CONTROLE","DEP","INACTIF","PROD","TEST","kVA","kW"],r=["!?!","*",""," ? ","000","HC","HCD","HCE","HCH","HH","HH ","HP","HP ","HPD","HPE","HPH","JA","JA ","P","P  ","PM","PM ","XXX"],o=["!?!","*","","BT 4 SUP36","BT 5 SUP36","HTA 5     ","HTA 8     ","TJ EJP    ","TJ EJP-HH ","TJ EJP-PM ","TJ EJP-SD ","TJ LU     ","TJ LU-CH  ","TJ LU-P   ","TJ LU-PH  ","TJ LU-SD  ","TJ MU     ","TV A5 BASE","TV A8 BASE","BASE","H PLEINE-CREUSE","HPHC","HC","HC et Week-End","EJP","PRODUCTEUR"],d=["!?!","*",""," ? ","000","HC","HCD","HCE","HCH","HH","HH ","HP","HP ","HPD","HPE","HPH","JA","JA ","P","P  ","PM","PM ","XXX","INDEX NON CONSO","BASE","HEURE CREUSE","HEURE PLEINE","HEURE NORMALE","HEURE POINTE","HC BLEU","BUHC","HP BLEU","BUHP","HC BLANC","BCHC","HP BLANC","BCHP","HC ROUGE","RHC","HP ROUGE","RHP","HEURE WEEK-END"],_=["!?!","*","","BT 4 SUP36","BT 5 SUP36","HTA 5     ","HTA 8     ","TJ EJP    ","TJ EJP-HH ","TJ EJP-PM ","TJ EJP-SD ","TJ LU     ","TJ LU-CH  ","TJ LU-P   ","TJ LU-PH  ","TJ LU-SD  ","TJ MU     ","TV A5 BASE","TV A8 BASE","BASE","H PLEINE-CREUSE","HPHC","HC","HC et Week-End","EJP","PRODUCTEUR"];function u(e,t,a){var i={};if(0==(128&e[t])){let r=127&e[t];r++,i=a[r],t+=1}else{const a=127&e[t];t+=1,a>0?(i=String.fromCharCode.apply(null,e.slice(t,t+a)),t+=a):i=""}return{x:i,i:t}}function p(e,t){return{x:Ee=l(n(e,t,"U8"),2)+"/"+l(n(e,t+1,"U8"),2)+"/"+l(n(e,t+2,"U8"),2)+" "+l(n(e,t+3,"U8"),2)+":"+l(n(e,t+4,"U8"),2)+":"+l(n(e,t+5,"U8"),2),i:t+=6}}function f(e,t,a){let i=n(e,t,"U32",a);t+=4,i+=new Date("2000/01/01 00:00:00").getTime()/1e3,i+=3600;var r=new Date(1e3*i);return{x:l(r.getDate(),2)+"/"+l(r.getMonth(),2)+"/"+r.getFullYear()+" "+l(r.getHours(),2)+":"+l(r.getMinutes(),2)+":"+l(r.getSeconds(),2),i:t}}function g(e,t,a){return{x:Ee=String.fromCharCode.apply(null,e.slice(t,t+a)),i:t+=a}}function E(e,t){return{b:e,i:t}}function P(e,t){return function(e,t){let a=e.slice(t).indexOf(0);return{x:Ee=String.fromCharCode.apply(null,e.slice(t,t+a)),i:t+=a+1}}(e,t)}function v(e,t){return{x:Ee=n(e,t,"U8"),i:t+=1}}function b(e,t){return{x:Ee=n(e,t,"U16"),i:t+=2}}function S(e,t){return{x:Ee=n(e,t,"I16"),i:t+=2}}function h(e,t){return{x:Ee=n(e,t,"U24"),i:t+=3}}function z(e,t){var a={};for(t=1;t<=4;t++)a["Value_"+t]=n(e,t,"U24"),t+=3;return{x:a,i:t}}function A(e,t){return{x:Ee=n(e,t,"U32"),i:t+=4}}function y(e,t){return{x:Ee=BytesToFloat32(e,t),i:t+=4}}function H(e,t){return p(e,t)}function C(e,t){return f(e,t)}function T(e,t){return u(e,t,r)}function N(e,t){return{x:{},i:t=u(e,f(e,t).i,r).i}}function D(e,t){return{x:l(n(e,t,"U8"),2)+"/"+l(n(e,++t,"U8"),2)+" "+l(n(e,++t,"U8"),2),i:++t}}function I(e,t){var a={};const i=g(e,t,1),r=p(e,i.i),o=n(e,t,"U8");return t=r.i+1,a.S=i.x,a.Date=r.x,a.Value=o,{x:a,i:t}}function R(e,t){var a={};const i=g(e,t,1),r=p(e,i.i),o=n(e,t,"U16");return t=r.i+1,a.S=i.x,a.Date=r.x,a.Value=o,{x:a,i:t}}function U(e,t){var a={};const i=g(e,t,1),r=p(e,i.i),o=n(e,t,"U24");return t=r.i+1,a.S=i.x,a.Date=r.x,a.Value=o,{x:a,i:t}}function x(e,t){return u(e,t,i)}function M(e,t){var a={};const r=n(e,t,"U24");t+=3,a.Value=r;const o=u(e,t,i);return a.Label=o.x,{x:a,i:t=o.i}}function w(e,t){return u(e,t,o)}function O(e,t){for(var a=[],i=0;i<11;i++){let i={},r=l(n(e,t,"U8"),2);t++,255==r?i.Status="NONUTILE":(m=l(n(e,t,"U8"),2),t++,s=c(e.slice(t,2)),t++,i.Time=r+":"+m,i.Status=s,t+=e[t]+1),a.push(i)}return{x:a,i:t}}function F(e){return e}function J(e){return e}function B(e){return e}function V(e){return e}function X(e){return e}function G(e){return e}function q(e){return e}function k(e){return e}function L(e){return e}function Y(e){return e}function W(e){return e}function Z(e){return e}function Q(e){return e}function j(e){return e}function K(e){return e}function $(e){return e}function ee(e){return e}function te(e){return e}function ae(e){return e}function ie(e){return e}function re(e){return e}const ne=[["CONTRAT",P,0,J],["DATECOUR",H,0,F],["DATE",H,0,F],["EA",h,0,function(e){return e}],["ERP",h,0,function(e){return e}],["PTCOUR",P,0,J],["PREAVIS",P,0,J],["MODE",E,0,J],["DATEPA1",H,0,F],["PA1",b,0,Z],["DATEPA2",H,0,F],["PA2",b,0,Z],["DATEPA3",H,0,F],["PA3",b,0,Z],["DATEPA4",H,0,F],["PA4",b,0,Z],["DATEPA5",H,0,F],["PA5",b,0,Z],["DATEPA6",H,0,F],["PA6",b,0,Z],["*p*",h,0,q],["KDC",v,0,W],["KDCD",v,0,W],["TGPHI",y,0,re],["PSP",b,0,Z],["PSPM",b,0,Z],["PSHPH",b,0,Z],["PSHPD",b,0,Z],["PSHCH",b,0,Z],["PSHCD",b,0,Z],["PSHPE",b,0,Z],["PSHCE",b,0,Z],["PSJA",b,0,Z],["PSHH",b,0,Z],["PSHD",b,0,Z],["PSHM",b,0,Z],["PSDSM",b,0,Z],["PSSCM",b,0,Z],["MODE",E,0,J],["PA1MN",b,0,Z],["PA10MN",b,0,Z],["PREA1MN",S,0,Q],["PREA10MN",S,0,Q],["TGPHI",y,0,re],["U10MN",b,0,function(e){return e}]],oe=[["DEBUTp",H,0,F,0],["FINp",H,0,F,6],["CAFp",b,0,G,12],["DATEEAp",H,0,F,14],["EApP",h,0,te,20],["EApPM",h,0,te,23],["EApHCE",h,0,te,26],["EApHCH",h,0,te,29],["EApHH",h,0,te,32],["EApHCD",h,0,te,35],["EApHD",h,0,te,38],["EApJA",h,0,te,41],["EApHPE",h,0,te,44],["EApHPH",h,0,te,47],["EApHPD",h,0,te,50],["EApSCM",h,0,te,53],["EApHM",h,0,te,56],["EApDSM",h,0,te,59],["DATEERPp",H,0,F,62],["ERPpP",h,0,ie,68],["ERPpPM",h,0,ie,71],["ERPpHCE",h,0,ie,74],["ERPpHCH",h,0,ie,77],["ERPpHH",h,0,ie,80],["ERPpHCD",h,0,ie,83],["ERPpHD",h,0,ie,86],["ERPpJA",h,0,ie,89],["ERPpHPE",h,0,ie,92],["ERPpHPH",h,0,ie,95],["ERPpHPD",h,0,ie,98],["ERPpSCM",h,0,ie,101],["ERPpHM",h,0,ie,104],["ERPpDSM",h,0,ie,107],["DATEERNp",H,0,F,110],["ERNpP",h,0,ie,116],["ERNpPM",h,0,ie,119],["ERNpHCE",h,0,ie,122],["ERNpHCH",h,0,ie,125],["ERNpHH",h,0,ie,128],["ERNpHCD",h,0,ie,131],["ERNpHD",h,0,ie,134],["ERNpJA",h,0,ie,137],["ERNpHPE",h,0,ie,140],["ERNpHPH",h,0,ie,143],["ERNpHPD",h,0,ie,146],["ERNpSCM",h,0,ie,149],["ERNpHM",h,0,ie,152],["ERNpDSM",h,0,ie,155]],le=[["DEBUTp1",H,0,F,0],["FINp1",H,0,F,6],["CAFp1",b,0,G,12],["DATEEAp1",H,0,F,14],["EAp1P",h,0,te,20],["EAp1PM",h,0,te,23],["EAp1HCE",h,0,te,26],["EAp1HCH",h,0,te,29],["EAp1HH",h,0,te,32],["EAp1HCD",h,0,te,35],["EAp1HD",h,0,te,38],["EAp1JA",h,0,te,41],["EAp1HPE",h,0,te,44],["EAp1HPH",h,0,te,47],["EAp1HPD",h,0,te,50],["EAp1SCM",h,0,te,53],["EAp1HM",h,0,te,56],["EAp1DSM",h,0,te,59],["DATEERPp1",H,0,F,62],["ERPp1P",h,0,ie,68],["ERPp1PM",h,0,ie,71],["ERPp1HCE",h,0,ie,74],["ERPp1HCH",h,0,ie,77],["ERPp1HH",h,0,ie,80],["ERPp1HCD",h,0,ie,83],["ERPp1HD",h,0,ie,86],["ERPp1JA",h,0,ie,89],["ERPp1HPE",h,0,ie,92],["ERPp1HPH",h,0,ie,95],["ERPp1HPD",h,0,ie,98],["ERPp1SCM",h,0,ie,101],["ERPp1HM",h,0,ie,104],["ERPp1DSM",h,0,ie,107],["DATEERNp1",H,0,F,110],["ERNp1P",h,0,ie,116],["ERNp1PM",h,0,ie,119],["ERNp1HCE",h,0,ie,122],["ERNp1HCH",h,0,ie,125],["ERNp1HH",h,0,ie,128],["ERNp1HCD",h,0,ie,131],["ERNp1HD",h,0,ie,134],["ERNp1JA",h,0,ie,137],["ERNp1HPE",h,0,ie,140],["ERNp1HPH",h,0,ie,143],["ERNp1HPD",h,0,ie,146],["ERNp1SCM",h,0,ie,149],["ERNp1HM",h,0,ie,152],["ERNp1DSM",h,0,ie,155]],de=[["ADIR1",b,0,X],["ADIR2",b,0,X],["ADIR3",b,0,X],["ADCO",P,0,J],["OPTARIF",P,0,J],["ISOUSC",v,0,V],["BASE",A,0,Y],["HCHC",A,0,Y],["HCHP",A,0,Y],["EJPHN",A,0,Y],["EJPHPM",A,0,Y],["BBRHCJB",A,0,Y],["BBRHPJB",A,0,Y],["BBRHCJW",A,0,Y],["BBRHPJW",A,0,Y],["BBRHCJR",A,0,Y],["BBRHPJR",A,0,Y],["PEJP",v,0,V],["GAZ",A,0,L],["AUTRE",A,0,L],["PTEC",P,0,J],["DEMAIN",P,0,J],["IINST",b,0,X],["IINST1",b,0,X],["IINST2",b,0,X],["IINST3",b,0,X],["ADPS",b,0,X],["IMAX",b,0,X],["IMAX1",b,0,X],["IMAX2",b,0,X],["IMAX3",b,0,X],["PMAX",A,0,q],["PAPP",A,0,q],["HHPHC",function(e,t){return{x:Ee=String.fromCharCode.apply(null,e.slice(0,1)),i:t+=1}},0,function(e){return e}],["MOTDETAT",P,0,J],["PPOT",v,0,function(e){return e}]],se=[["JAUNE",function(e,t){const a=l(n(e,t,"U8"),2),i=l(n(e,++t,"U8"),2);return{x:l(n(e,++t,"U8"),2)+"/"+l(n(e,++t,"U8"),2)+" "+a+":"+i,i:++t}},0,F],["JAUNE",P,0,J],["JAUNE",P,0,J],["JAUNE",h,0,q],["JAUNE",v,0,V],["ENERG",function(e,t){var a={};for(t=1;t<=4;t++)a["Value_"+t]=n(e,t,"U24"),t+=3;return{x:a,i:t}},0,k],["ENERG",h,0,k],["ENERG",h,0,k],["ENERG",h,0,k],["ENERG",h,0,k],["ENERG",h,0,k],["PERCC",D,0,F],["PERCC",v,0,V],["PMAXC",z,0,q],["PMAXC",h,0,q],["PMAXC",h,0,q],["PMAXC",h,0,q],["TDEPA",z,0,q],["TDEPA",h,0,q],["TDEPA",h,0,q],["TDEPA",h,0,q],["PERCP",D,0,F],["PERCP",v,0,V],["PMAXP",z,0,q],["PMAXP",h,0,q],["PMAXP",h,0,q],["PMAXP",h,0,q],["PSOUSC",z,0,q],["PSOUSC",h,0,q],["PSOUSC",h,0,q],["PSOUSC",h,0,q],["PSOUSP",z,0,q],["PSOUSP",h,0,q],["PSOUSP",h,0,q],["PSOUSP",h,0,q],["FCOU",function(e,t){return{x:l(n(e,t,"U8"),2)+":"+l(n(e,++t,"U8"),2),i:++t}},0,F],["FCOU",v,0,V]],_e=[["ADSC",P,0,J],["VTIC",v,0,V],["DATE",function(e,t){var a={};const i=g(e,t,1),r=p(e,i.i);return a.S=i.x,a.Date=r.x,{x:a,i:t=r.i}},0,F],["NGTF",function(e,t){return u(e,t,_)},0,J],["LTARF",function(e,t){return u(e,t,d)},0,J],["EAST",A,0,Y],["EASF01",A,0,Y],["EASF02",A,0,Y],["EASF03",A,0,Y],["EASF04",A,0,Y],["EASF05",A,0,Y],["EASF06",A,0,Y],["EASF07",A,0,Y],["EASF08",A,0,Y],["EASF09",A,0,Y],["EASF10",A,0,Y],["EASD01",A,0,Y],["EASD02",A,0,Y],["EASD03",A,0,Y],["EASD04",A,0,Y],["EAIT",A,0,Y],["ERQ1",A,0,Y],["ERQ2",A,0,Y],["ERQ3",A,0,Y],["ERQ4",A,0,Y],["IRMS1",b,0,X],["IRMS2",b,0,X],["IRMS3",b,0,X],["URMS1",b,0,X],["URMS2",b,0,X],["URMS3",b,0,X],["PREF",v,0,V],["PCOUP",v,0,V],["SINSTS",h,0,q],["SINSTS1",h,0,q],["SINSTS2",h,0,q],["SINSTS3",h,0,q],["SMAXSN",U,0,q],["SMAXSN1",U,0,q],["SMAXSN2",U,0,q],["SMAXSN3",U,0,q],["SMAXSN?1",U,0,q],["SMAXSN1?1",U,0,q],["SMAXSN2?1",U,0,q],["SMAXSN3?1",U,0,q],["SINSTI",h,0,q],["SMAXIN",U,0,q],["SMAXIN-1",U,0,q],["CCASN",U,0,q],["CCASN?1",U,0,q],["CCAIN",U,0,q],["CCAIN?1",U,0,q],["UMOY1",R,0,X],["UMOY2",R,0,X],["UMOY3",R,0,X],["STGE",function(e,t){var a=c(e.slice(t,2));return t+=4,{x:a,i:t+=4}},0,F],["DPM1",I,0,V],["FPM1",I,0,V],["DPM2",I,0,V],["FPM2",I,0,V],["DPM3",I,0,V],["FPM3",I,0,V],["MSG1",P,0,J],["MSG2",P,0,J],["PRM",P,0,J],["RELAIS",function(e,t){return Ee=n(e,t,"U8"),t++,{x:Ee,i:t}},0,X],["NTARF",v,0,V],["NJOURF",v,0,V],["NJOURF+1",v,0,V],["PJOURF+1",O,0,F],["PPOINTE",O,0,F]],ue=[["TRAME",x,0,J],["ADS",function(e,t){return{x:c(e.slice(t+1,t+1+e[t])),i:t+=e[t]+1}},0,F],["MESURES1",w,0,J],["DATE",H,0,F],["EA_s",h,0,j],["ER+_s",h,0,K],["ER-_s",h,0,K],["EAPP_s",h,0,$],["EA_i",h,0,j],["ER+_i",h,0,K],["ER-_i",h,0,K],["EAPP_i",h,0,$],["PTCOUR1",T,0,J],["TARIFDYN",x,0,J],["ETATDYN1",T,0,J],["PREAVIS1",T,0,B],["TDYN1CD",N,0,F],["TDYN1CF",N,0,F],["TDYN1FD",N,0,F],["TDYN1FF",N,0,F],["MODE",x,0,J],["CONFIG",x,0,J],["DATEPA1",H,0,F],["PA1_s",b,0,Z],["PA1_i",b,0,Z],["DATEPA2",C,0,F],["PA2_s",b,0,Z],["PA2_i",b,0,Z],["DATEPA3",C,0,F],["PA3_s",b,0,Z],["PA3_i",b,0,Z],["DATEPA4",C,0,F],["PA4_s",b,0,Z],["PA4_i",b,0,Z],["DATEPA5",C,0,F],["PA5_s",b,0,Z],["PA5_i",b,0,Z],["DATEPA6",C,0,F],["PA6_s",b,0,Z],["PA6_i",b,0,Z],["DebP",C,0,F],["EAP_s",h,0,ee],["EAP_i",h,0,ee],["ER+P_s",h,0,ae],["ER-P_s",h,0,ae],["ER+P_i",h,0,ae],["ER-P_i",h,0,ae],["DebP-1",C,0,F],["FinP-1",C,0,F],["EaP-1_s",h,0,ee],["EaP-1_i",h,0,ee],["ER+P-1_s",h,0,ae],["ER-P-1_s",h,0,ae],["ER+P-1_i",h,0,ae],["ER-P-1_i",h,0,ae],["PS",M,0,F],["PREAVIS",x,0,J],["PA1MN",b,0,Z],["PMAX_s",M,0,F],["PMAX_i",M,0,F],["TGPHI_s",y,0,re],["TGPHI_i",y,0,re],["MESURES2",w,0,J],["PTCOUR2",T,0,J],["ETATDYN2",T,0,J],["PREAVIS2",T,0,B],["TDYN2CD",N,0,F],["TDYN2CF",N,0,F],["TDYN2FD",N,0,F],["TDYN2FF",N,0,F],["DebP_2",C,0,F],["EaP_s2",h,0,ee],["DebP-1_2",C,0,F],["FinP-1_2",C,0,F],["EaP-1_s2",h,0,ee],["_DDMES1_",h,0,function(e){return e}]];let pe,ce=[];if(83==e)if(!1&attributeID)pe=ne,ce._TICFrameType="ICE Generale";else if(!1&attributeID)pe=oe,ce._TICFrameType="ICE Periode P";else{if(!(!1&attributeID))return ce;pe=le,ce._TICFrameType="ICE Periode P moins 1"}else if(84==e)pe=de,ce._TICFrameType="CBE/Historique";else if(85==e)pe=se,ce._TICFrameType="CJE";else if(86==e)pe=_e,ce._TICFrameType="Standard";else{if(87!=e)return ce;pe=ue,ce._TICFrameType="PMEPMI"}let{DescSize:me,Indexes:fe}=function(e){var t=[],a=e[0],i=31&a;if(0==i&&(i=8),0!=(32&a))for(r=1;r<i;r++)t.push(e[r]);else{let a=0;for(var r=i;r>1;r--)for(let i=0;i<8;i++)e[r-1]>>i&1&&t.push(a),a++}return{DescSize:i,Indexes:t}}(a);var ge=a.slice(0,me),Ee={};128==(128&ge[0])&&(Ee.Obsolete=!0),Ee.Bytes=c(ge),Ee.Indexes=fe,ce._Descriptor=Ee;for(var Pe=me,ve=0;ve<fe.length;ve++){const e=fe[ve],t=pe[e][1](a,Pe);ce[pe[e][0]]=pe[e][3](t.x),Pe=t.i}return ce}(g,0,e.slice(P+1))),0===g&&2===t){a.data.firmware="";for(let t=0;t<3;t++)a.data.firmware+=String(e[P+t]),t<2&&(a.data.firmware+=".");let t=256*e[P+3]*256+256*e[P+4]+e[P+5];a.data.firmware+="."+t.toString()}if(0===g&&3===t){let t=e[P];a.data.kernel="";for(let i=0;i<t;i++)a.data.kernel+=String.fromCharCode(e[P+1+i])}if(0===g&&4===t){let t=e[P];a.data.manufacturer="";for(let i=0;i<t;i++)a.data.manufacturer+=String.fromCharCode(e[P+1+i])}if(0===g&&5===t){let t=e[P];a.data.model="";for(let i=0;i<t;i++)a.data.model+=String.fromCharCode(e[P+1+i])}if(0===g&&6===t){let t=e[P];a.data.date="";for(let i=0;i<t;i++)a.data.date+=String.fromCharCode(e[P+1+i])}if(0===g&&16===t){let t=e[P];a.data.position="";for(let i=0;i<t;i++)a.data.position+=String.fromCharCode(e[P+1+i])}if(0===g&&32769===t){let t=e[P];a.data.application_name="";for(let i=0;i<t;i++)a.data.application_name+=String.fromCharCode(e[P+1+i])}if(1026===g&&0===t){let r=e[P-1];a.data.temperature=i(256*e[P]+e[P+1],2)/100;let n=P+2;if(138===_||void 0!==e[n]){let i=[],o=0,l=100,s="",_="int";s=d(e[n]),n+=1,"0"===s[2]&&"0"===s[3]&&(i.push("alarm triggered"),a.zclheader.alarmmsg=i),"0"===s[2]&&"1"===s[3]&&u(1,i,o,e,a,n),"1"===s[2]&&"0"===s[3]&&p(g,t,6,i,o,e,a,n,r,l,_)}}if(1026===g&&1===t&&(a.data.min_temperature=i(256*e[P]+e[P+1],2)/100),1026===g&&2===t&&(a.data.max_temperature=i(256*e[P]+e[P+1],2)/100),1029===g&&0===t){let i=e[P-1];a.data.humidity=(256*e[P]+e[P+1])/100;let r=P+2;if(138===_||void 0!==e[r]){let n=[],o=0,l=100,s="",_="none";s=d(e[r]),r+=1,"0"===s[2]&&"0"===s[3]&&(n.push("alarm triggered"),a.zclheader.alarmmsg=n),"0"===s[2]&&"1"===s[3]&&u(1,n,o,e,a,r),"1"===s[2]&&"0"===s[3]&&p(g,t,6,n,o,e,a,r,i,l,_)}}if(1029===g&&1===t&&(a.data.min_humidity=(256*e[P]+e[P+1])/100),1029===g&&2===t&&(a.data.max_humidity=(256*e[P]+e[P+1])/100),15===g&&1026===t){let i=e[P-1];a.data.index=256*e[P]*256*256+256*e[P+1]*256+256*e[P+2]+e[P+3];let r=P+4;if(138===_||void 0!==e[r]){let n=[],o=0,l=1,s="",_="none";s=d(e[r]),r+=1,"0"===s[2]&&"0"===s[3]&&(n.push("alarm triggered"),a.zclheader.alarmmsg=n),"0"===s[2]&&"1"===s[3]&&u(1,n,o,e,a,r),"1"===s[2]&&"0"===s[3]&&p(g,t,10,n,o,e,a,r,i,l,_)}}if(15===g&&85===t){let i=e[P-1];a.data.pin_state=!!e[P];let r=P+1;if(138===_||void 0!==e[r]){let n=[],o=0,l=1,s="",_="none";s=d(e[r]),r+=1,"0"===s[2]&&"0"===s[3]&&(n.push("alarm triggered"),a.zclheader.alarmmsg=n),"0"===s[2]&&"1"===s[3]&&u(1,n,o,e,a,r),"1"===s[2]&&"0"===s[3]&&p(g,t,4,n,o,e,a,r,i,l,_)}}if(15===g&&84===t&&(0===e[P]&&(a.data.polarity="normal"),1===e[P]&&(a.data.polarity="reverse")),15===g&&1024===t&&(0===e[P]&&(a.data.edge_selection="none"),1===e[P]&&(a.data.edge_selection="falling edge"),2===e[P]&&(a.data.edge_selection="rising edge"),3===e[P]&&(a.data.edge_selection="both edges"),5===e[P]&&(a.data.edge_selection="polling and falling edge"),6===e[P]&&(a.data.edge_selection="polling and rising edge"),7===e[P]&&(a.data.edge_selection="polling and both edges")),15===g&&1025===t&&(a.data.debounce_period=e[P]),15===g&&1027===t&&(a.data.poll_period=e[P]),15===g&&1028===t&&(a.data.force_notify=e[P]),19===g&&85===t){let i=e[P-1];a.data.output_value=e[P];let r=P+1;if(138===_||void 0!==e[r]){let n=[],o=0,l=1,s="",_="none";s=d(e[r]),r+=1,"0"===s[2]&&"0"===s[3]&&(n.push("alarm triggered"),a.zclheader.alarmmsg=n),"0"===s[2]&&"1"===s[3]&&u(1,n,o,e,a,r),"1"===s[2]&&"0"===s[3]&&p(g,t,4,n,o,e,a,r,i,l,_)}}if(6===g&&0===t){let t=e[P];a.data.output=1===t?"ON":"OFF"}if(32776===g&&0===t){let i=e[P-1];a.data.differential_pressure=256*e[P]+e[P+1];let r=P+2;if(138===_||void 0!==e[r]){let n=[],o=0,l=1,s="",_="none";s=d(e[r]),r+=1,"0"===s[2]&&"0"===s[3]&&(n.push("alarm triggered"),a.zclheader.alarmmsg=n),"0"===s[2]&&"1"===s[3]&&u(1,n,o,e,a,r),"1"===s[2]&&"0"===s[3]&&p(g,t,6,n,o,e,a,r,i,l,_)}}if(32773===g&&0===t){let i=e[P-1];a.data.pin_state_1=1==(1&e[P+1]),a.data.pin_state_2=2==(2&e[P+1]),a.data.pin_state_3=4==(4&e[P+1]),a.data.pin_state_4=8==(8&e[P+1]),a.data.pin_state_5=16==(16&e[P+1]),a.data.pin_state_6=32==(32&e[P+1]),a.data.pin_state_7=64==(64&e[P+1]),a.data.pin_state_8=128==(128&e[P+1]),a.data.pin_state_9=1==(1&e[P]),a.data.pin_state_10=2==(2&e[P]);let r=P+2;if(138===_||void 0!==e[r]){let n=[],o=0,l=100,s="",_="none";s=d(e[r]),r+=1,"0"===s[2]&&"0"===s[3]&&(n.push("alarm triggered"),a.zclheader.alarmmsg=n),"0"===s[2]&&"1"===s[3]&&u(1,n,o,e,a,r),"1"===s[2]&&"0"===s[3]&&p(g,t,4,n,o,e,a,r,i,l,_)}}if(32774===g&&0===t&&(a.data.speed=256*e[P]*256+256*e[P+1]+e[P+2]),32774===g&&1===t&&(a.data.data_bit=e[P]),32774===g&&2===t&&(a.data.parity=e[P]),32774===g&&3===t&&(a.data.stop_bit=e[P]),12===g&&85===t){let i=e[P-1];a.data.analog=r(256*e[P]*256*256+256*e[P+1]*256+256*e[P+2]+e[P+3]);let n=P+4;if(138===_||void 0!==e[n]){let r=[],o=0,l=1,s="",_="float";s=d(e[n]),n+=1,"0"===s[2]&&"0"===s[3]&&(r.push("alarm triggered"),a.zclheader.alarmmsg=r),"0"===s[2]&&"1"===s[3]&&u(1,r,o,e,a,n),"1"===s[2]&&"0"===s[3]&&p(g,t,10,r,o,e,a,n,i,l,_)}}if(12===g&&256===t&&(5===e[P+1]&&(a.data.type="ppm"),255===e[P+1]&&0===e[P+3]&&(a.data.type="mA"),255===e[P+1]&&1===e[P+3]&&(a.data.type="mV")),12===g&&32771===t&&(a.data.power_duration=256*e[P]+e[P+1]),12===g&&32772===t){let t={},a=d(e[P]),i=d(e[P+1]),r=2*a[0]+a[1];0===r&&(t.mode="idle"),1===r&&(t.mode="chock"),2===r&&(t.mode="click");let n=8*a[2]+4*a[3]+2*a[4]+a[5];0===n&&(t.frequency="idle"),1===n&&(t.frequency="1Hz"),2===n&&(t.frequency="10Hz"),3===n&&(t.frequency="25Hz"),4===n&&(t.frequency="50Hz"),5===n&&(t.frequency="100Hz"),6===n&&(t.frequency="200Hz"),7===n&&(t.frequency="400Hz"),8===n&&(t.frequency="1620Hz"),9===n&&(t.frequency="5376Hz"),t.range={};let o=2*a[6]+a[7];0===o&&(t.range.precision="+/- 2g",t.range.value=16),1===o&&(t.range.precision="+/- 4g",t.range.value=32),2===o&&(t.range.precision="+/- 8g",t.range.value=64),3===o&&(t.range.precision="+/- 16g",t.range.value=128);let l=128*i[0]+64*i[1]+32*i[2]+16*i[3]+8*i[4]+4*i[5]+2*i[6]+i[7];t.threshold=l*t.range.value}if(32775===g&&1===t){a.data.modbus_payload="";let t=e[P];for(let i=0;i<t;i++)f=e[P+i+1].toString(16).toUpperCase(),0===i?a.data.modbus_slaveID=e[P+i+1]:1===i?a.data.modbus_fnctID=e[P+i+1]:2===i?a.data.modbus_datasize=e[P+i+1]:a.data.modbus_payload+=f}if(32777===g&&0===t){let t=e[P+2],i=e[P+3];a.data.modbus_frame_series_sent=e[P+1],a.data.modbus_frame_number_in_serie=(224&t)>>5,a.data.modbus_last_frame_of_serie=(28&t)>>2,a.data.modbus_EP9=1==(1&t),a.data.modbus_EP8=2==(2&t),a.data.modbus_EP7=128==(128&i),a.data.modbus_EP6=64==(64&i),a.data.modbus_EP5=32==(32&i),a.data.modbus_EP4=16==(16&i),a.data.modbus_EP3=8==(8&i),a.data.modbus_EP2=4==(4&i),a.data.modbus_EP1=2==(2&i),a.data.modbus_EP0=1==(1&i);let r=P+4,n=0;if(!0===a.data.modbus_EP0){if(0===n&&(a.data.modbus_slaveID_EP0=e[r],a.data.modbus_fnctID_EP0=e[r+1],a.data.modbus_datasize_EP0=e[r+2],r+=3),a.data.modbus_payload_EP0="",void 0===e[r])return a;for(let t=0;t<a.data.modbus_datasize_EP0;t++)f=e[r+t].toString(16).toUpperCase(),1===f.length&&(f="0"+f),a.data.modbus_payload_EP0+=f;r+=a.data.modbus_datasize_EP0}if(!0===a.data.modbus_EP1){if(0===n&&(a.data.modbus_slaveID_EP1=e[r],a.data.modbus_fnctID_EP1=e[r+1],a.data.modbus_datasize_EP1=e[r+2],r+=3),a.data.modbus_payload_EP1="",void 0===e[r])return a;for(let t=0;t<a.data.modbus_datasize_EP1;t++)f=e[r+t].toString(16).toUpperCase(),1===f.length&&(f="0"+f),a.data.modbus_payload_EP1+=f;r+=a.data.modbus_datasize_EP1}if(!0===a.data.modbus_EP2){if(0===n&&(a.data.modbus_slaveID_EP2=e[r],a.data.modbus_fnctID_EP2=e[r+1],a.data.modbus_datasize_EP2=e[r+2],r+=3),a.data.modbus_payload_EP2="",void 0===e[r])return a;for(let t=0;t<a.data.modbus_datasize_EP2;t++)f=e[r+t].toString(16).toUpperCase(),1===f.length&&(f="0"+f),a.data.modbus_payload_EP2+=f;r+=a.data.modbus_datasize_EP2}if(!0===a.data.modbus_EP3){if(0===n&&(a.data.modbus_slaveID_EP3=e[r],a.data.modbus_fnctID_EP3=e[r+1],a.data.modbus_datasize_EP3=e[r+2],r+=3),a.data.modbus_payload_EP3="",void 0===e[r])return a;for(let t=0;t<a.data.modbus_datasize_EP3;t++)f=e[r+t].toString(16).toUpperCase(),1===f.length&&(f="0"+f),a.data.modbus_payload_EP3+=f;r+=a.data.modbus_datasize_EP3}if(!0===a.data.modbus_EP4){if(0===n&&(a.data.modbus_slaveID_EP4=e[r],a.data.modbus_fnctID_EP4=e[r+1],a.data.modbus_datasize_EP4=e[r+2],r+=3),a.data.modbus_payload_EP4="",void 0===e[r])return a;for(let t=0;t<a.data.modbus_datasize_EP4;t++)f=e[r+t].toString(16).toUpperCase(),1===f.length&&(f="0"+f),a.data.modbus_payload_EP4+=f;r+=a.data.modbus_datasize_EP4}if(!0===a.data.modbus_EP5){if(0===n&&(a.data.modbus_slaveID_EP5=e[r],a.data.modbus_fnctID_EP5=e[r+1],a.data.modbus_datasize_EP5=e[r+2],r+=3),a.data.modbus_payload_EP5="",void 0===e[r])return a;for(let t=0;t<a.data.modbus_datasize_EP5;t++)f=e[r+t].toString(16).toUpperCase(),1===f.length&&(f="0"+f),a.data.modbus_payload_EP5+=f;r+=a.data.modbus_datasize_EP5}if(!0===a.data.modbus_EP6){if(0===n&&(a.data.modbus_slaveID_EP6=e[r],a.data.modbus_fnctID_EP6=e[r+1],a.data.modbus_datasize_EP6=e[r+2],r+=3),a.data.modbus_payload_EP6="",void 0===e[r])return a;for(let t=0;t<a.data.modbus_datasize_EP6;t++)f=e[r+t].toString(16).toUpperCase(),1===f.length&&(f="0"+f),a.data.modbus_payload_EP6+=f;r+=a.data.modbus_datasize_EP6}if(!0===a.data.modbus_EP7){if(0===n&&(a.data.modbus_slaveID_EP7=e[r],a.data.modbus_fnctID_EP7=e[r+1],a.data.modbus_datasize_EP7=e[r+2],r+=3),a.data.modbus_payload_EP7="",void 0===e[r])return a;for(let t=0;t<a.data.modbus_datasize_EP7;t++)f=e[r+t].toString(16).toUpperCase(),1===f.length&&(f="0"+f),a.data.modbus_payload_EP7+=f;r+=a.data.modbus_datasize_EP7}if(!0===a.data.modbus_EP8){if(0===n&&(a.data.modbus_slaveID_EP8=e[r],a.data.modbus_fnctID_EP8=e[r+1],a.data.modbus_datasize_EP8=e[r+2],r+=3),a.data.modbus_payload_EP8="",void 0===e[r])return a;for(let t=0;t<a.data.modbus_datasize_EP8;t++)f=e[r+t].toString(16).toUpperCase(),1===f.length&&(f="0"+f),a.data.modbus_payload_EP8+=f;r+=a.data.modbus_datasize_EP8}if(!0===a.data.modbus_EP9){if(0===n&&(a.data.modbus_slaveID_EP9=e[r],a.data.modbus_fnctID_EP9=e[r+1],a.data.modbus_datasize_EP9=e[r+2],r+=3),a.data.modbus_payload_EP9="",void 0===e[r])return a;for(let t=0;t<a.data.modbus_datasize_EP9;t++)f=e[r+t].toString(16).toUpperCase(),1===f.length&&(f="0"+f),a.data.modbus_payload_EP9+=f;r+=a.data.modbus_datasize_EP9}}if(82===g&&0===t&&(a.data.active_energy=i(256*e[P+1]*256+256*e[P+2]+e[P+3],3),a.data.reactive_energy=i(256*e[P+4]*256+256*e[P+5]+e[P+6],3),a.data.nb_samples=256*e[P+7]+e[P+8],a.data.active_power=i(256*e[P+9]+e[P+10],2),a.data.reactive_power=i(256*e[P+11]+e[P+12],2)),32772===g&&0===t&&(1===e[P]&&(a.data.message_type="confirmed"),0===e[P]&&(a.data.message_type="unconfirmed")),32772===g&&1===t&&(a.data.nb_retry=e[P]),32772===g&&2===t&&(a.data.automatic_association={},a.data.automatic_association.period_in_minutes=256*e[P+1]+e[P+2],a.data.automatic_association.nb_err_frames=256*e[P+3]+e[P+4]),32772===g&&3===t&&(a.data.data_rate=e[P+2]),32772===g&&4===t){a.data.ABP_dev_address="";for(let t=0;t<4;t++)a.data.ABP_dev_address+=String(e[P+1+t]),t<3&&(a.data.ABP_dev_address+=".")}if(32772===g&&5===t){a.data.OTA_app_EUI="";for(let t=0;t<8;t++)a.data.OTA_app_EUI+=String(e[P+1+t]),t<7&&(a.data.OTA_app_EUI+=".")}if(80===g&&4===t){e[P],e[P+1];let t={},i=e[P+2];for(let a=0;a<i;a++){let i={};i.endpoint=e[P+3+7*a];let r=e[P+4+7*a];i.input_clusters=[];for(let t=0;t<r;t++)i.input_clusters[t]=o(256*e[P+5+7*a+2*t]+e[P+6+7*a+2*t],4);let n=e[P+5+7*a+2*r];i.output_clusters=[];for(let t=0;t<n;t++)i.output_clusters[t]=o(256*e[P+6+7*a+2*t]+e[P+7+7*a+2*t],4);t[a]=i}a.data.configuration=t}if(80===g&&6===t){let i=P+3,r=e[P-1];1==(1&e[P+2])&&(a.data.main_or_external_voltage=(256*e[i]+e[i+1])/1e3,i+=2),2==(2&e[P+2])&&(a.data.rechargeable_battery_voltage=(256*e[i]+e[i+1])/1e3,i+=2),4==(4&e[P+2])&&(a.data.disposable_battery_voltage=(256*e[i]+e[i+1])/1e3,i+=2),8==(8&e[P+2])&&(a.data.solar_harvesting_voltage=(256*e[i]+e[i+1])/1e3,i+=2),16==(16&e[P+2])&&(a.data.tic_harvesting_voltage=(256*e[i]+e[i+1])/1e3,i+=2);let n=i+1;if(138===_||void 0!==e[n]){let i=[],o=0,l=1e3,s="multistate",_="";_=d(e[n]),n+=1;let c=e[n+1];"0"===_[2]&&"0"===_[3]&&(i.push("alarm triggered"),a.zclheader.alarmmsg=i),"0"===_[2]&&"1"===_[3]&&u(1,i,o,e,a,n),"1"===_[2]&&"0"===_[3]&&p(g,t,6,i,o,e,a,n,r,l,s,c)}}if(80===g&&255===E){let t="action "+e[5].toString();a.data[t]="";let i=e[P+1],r="none";for(let t=0;t<i;t++)r+=String.fromCharCode(e[P+1+t]);a.data[t]=r}if(32778===g&&0===t){let r=P,n=e[r-1];a.data.positive_active_energy=i(256*e[r+1]*256*256+256*e[r+2]*256+256*e[r+3]+e[r+4],4),r+=4,a.data.negative_active_energy=i(256*e[r+1]*256*256+256*e[r+2]*256+256*e[r+3]+e[r+4],4),r+=4,a.data.positive_reactive_energy=i(256*e[r+1]*256*256+256*e[r+2]*256+256*e[r+3]+e[r+4],4),r+=4,a.data.negative_reactive_energy=i(256*e[r+1]*256*256+256*e[r+2]*256+256*e[r+3]+e[r+4],4),r+=4,a.data.positive_active_power=i(256*e[r+1]*256*256+256*e[r+2]*256+256*e[r+3]+e[r+4],4),r+=4,a.data.negative_active_power=i(256*e[r+1]*256*256+256*e[r+2]*256+256*e[r+3]+e[r+4],4),r+=4,a.data.positive_reactive_power=i(256*e[r+1]*256*256+256*e[r+2]*256+256*e[r+3]+e[r+4],4),r+=4,a.data.negative_reactive_power=i(256*e[r+1]*256*256+256*e[r+2]*256+256*e[r+3]+e[r+4],4);let o=r+5;if(138===_||void 0!==e[o]){let i=[],r=0,l=1,s="multistate",_="";_=d(e[o]),o+=1;let c=e[o+1];"0"===_[2]&&"0"===_[3]&&(i.push("alarm triggered"),a.zclheader.alarmmsg=i),"0"===_[2]&&"1"===_[3]&&u(1,i,r,e,a,o),"1"===_[2]&&"0"===_[3]&&p(g,t,10,i,r,e,a,o,n,l,s,c)}}if(32784===g&&0===t){let r=e[P-1];a.data.active_energy_a=i(256*e[P+1]*256*256+256*e[P+2]*256+256*e[P+3]+e[P+4]),a.data.reactive_energy_a=i(256*e[P+5]*256*256+256*e[P+6]*256+256*e[P+7]+e[P+8]),a.data.active_energy_b=i(256*e[P+9]*256*256+256*e[P+10]*256+256*e[P+11]+e[P+12]),a.data.reactive_energy_b=i(256*e[P+13]*256*256+256*e[P+14]*256+256*e[P+15]+e[P+16]),a.data.active_energy_c=i(256*e[P+17]*256*256+256*e[P+18]*256+256*e[P+19]+e[P+20]),a.data.reactive_energy_c=i(256*e[P+21]*256*256+256*e[P+22]*256+256*e[P+23]+e[P+24]),a.data.active_energy_abc=i(256*e[P+25]*256*256+256*e[P+26]*256+256*e[P+27]+e[P+28]),a.data.reactive_energy_abc=i(256*e[P+29]*256*256+256*e[P+30]*256+256*e[P+31]+e[P+32]);let n=P+33;if(138===_||void 0!==e[n]){let i=[],o=0,l=1,s="multistate",_="";_=d(e[n]),n+=1;let c=e[n+1];"0"===_[2]&&"0"===_[3]&&(i.push("alarm triggered"),a.zclheader.alarmmsg=i),"0"===_[2]&&"1"===_[3]&&u(1,i,o,e,a,n),"1"===_[2]&&"0"===_[3]&&p(g,t,10,i,o,e,a,n,r,l,s,c)}}else if(32784===g&&1===t){let r=e[P-1];a.data.active_power_a=i(256*e[P+1]*256*256+256*e[P+2]*256+256*e[P+3]+e[P+4]),a.data.reactive_power_a=i(256*e[P+5]*256*256+256*e[P+6]*256+256*e[P+7]+e[P+8]),a.data.active_power_b=i(256*e[P+9]*256*256+256*e[P+10]*256+256*e[P+11]+e[P+12]),a.data.reactive_power_b=i(256*e[P+13]*256*256+256*e[P+14]*256+256*e[P+15]+e[P+16]),a.data.active_power_c=i(256*e[P+17]*256*256+256*e[P+18]*256+256*e[P+19]+e[P+20]),a.data.reactive_power_c=i(256*e[P+21]*256*256+256*e[P+22]*256+256*e[P+23]+e[P+24]),a.data.active_power_abc=i(256*e[P+25]*256*256+256*e[P+26]*256+256*e[P+27]+e[P+28]),a.data.reactive_power_abc=i(256*e[P+29]*256*256+256*e[P+30]*256+256*e[P+31]+e[P+32]);let n=P+33;if(138===_||void 0!==e[n]){let i=[],o=0,l=1,s="multistate",_="";_=d(e[n]),n+=1;let c=e[n+1];"0"===_[2]&&"0"===_[3]&&(i.push("alarm triggered"),a.zclheader.alarmmsg=i),"0"===_[2]&&"1"===_[3]&&u(1,i,o,e,a,n),"1"===_[2]&&"0"===_[3]&&p(g,t,10,i,o,e,a,n,r,l,s,c)}}if(32779===g&&0===t){let r=P,n=e[r-1];a.data.Vrms=i(256*e[r+1]+e[r+2],2)/10,r+=2,a.data.Irms=i(256*e[r+1]+e[r+2],2)/10,r+=2,a.data.angle=i(256*e[r+1]+e[r+2],2);let o=r+3;if(138===_||void 0!==e[o]){let i=[],r=0,l=1,s="multistate",_="";_=d(e[o]),o+=1;let c=e[o+1];"0"===_[2]&&"0"===_[3]&&(i.push("alarm triggered"),a.zclheader.alarmmsg=i),"0"===_[2]&&"1"===_[3]&&u(1,i,r,e,a,o),"1"===_[2]&&"0"===_[3]&&p(g,t,6,i,r,e,a,o,n,l,s,c)}}if(32781===g&&0===t){let r=e[P-1];a.data.Vrms_a=i(256*e[P+1]+e[P+2],2)/10,a.data.Irms_a=i(256*e[P+3]+e[P+4],2)/10,a.data.angle_a=i(256*e[P+5]+e[P+6],2),a.data.Vrms_b=i(256*e[P+7]+e[P+8],2)/10,a.data.Irms_b=i(256*e[P+9]+e[P+10],2)/10,a.data.angle_b=i(256*e[P+11]+e[P+12],2),a.data.Vrms_c=i(256*e[P+13]+e[P+14],2)/10,a.data.Irms_c=i(256*e[P+15]+e[P+16],2)/10,a.data.angle_c=i(256*e[P+17]+e[P+18],2);let n=P+19;if(138===_||void 0!==e[n]){let i=[],o=0,l=1,s="multistate",_="";_=d(e[n]),n+=1;let c=e[n+1];"0"===_[2]&&"0"===_[3]&&(i.push("alarm triggered"),a.zclheader.alarmmsg=i),"0"===_[2]&&"1"===_[3]&&u(1,i,o,e,a,n),"1"===_[2]&&"0"===_[3]&&p(g,t,6,i,o,e,a,n,r,l,s,c)}}if(32780===g&&0===t){let i=e[P-1];a.data.concentration=256*e[P]+e[P+1];let r=P+2;if(138===_||void 0!==e[r]){let n=[],o=0,l=1,s="",_="none";s=d(e[r]),r+=1,"0"===s[2]&&"0"===s[3]&&(n.push("alarm triggered"),a.zclheader.alarmmsg=n),"0"===s[2]&&"1"===s[3]&&u(1,n,o,e,a,r),"1"===s[2]&&"0"===s[3]&&p(g,t,6,n,o,e,a,r,i,l,_)}}if(32780===g&&1===t&&(a.data.analog=e[P]),32780===g&&2===t&&(a.data.analog=e[P]),1024===g&&0===t){let i=e[P-1];a.data.illuminance=256*e[P]+e[P+1];let r=P+2;if(138===_||void 0!==e[r]){let n=[],o=0,l=1,s="",_="none";s=d(e[r]),r+=1,"0"===s[2]&&"0"===s[3]&&(n.push("alarm triggered"),a.zclheader.alarmmsg=n),"0"===s[2]&&"1"===s[3]&&u(1,n,o,e,a,r),"1"===s[2]&&"0"===s[3]&&p(g,t,6,n,o,e,a,r,i,l,_)}}if(1027===g&&0===t){let r=e[P-1];a.data.pressure=i(256*e[P]+e[P+1],2);let n=P+2;if(138===_||void 0!==e[n]){let i=[],o=0,l=1,s="",_="int";s=d(e[n]),n+=1,"0"===s[2]&&"0"===s[3]&&(i.push("alarm triggered"),a.zclheader.alarmmsg=i),"0"===s[2]&&"1"===s[3]&&u(1,i,o,e,a,n),"1"===s[2]&&"0"===s[3]&&p(g,t,6,i,o,e,a,n,r,l,_)}}if(1030===g&&0===t){let i=e[P-1];a.data.occupancy=!!e[P];let r=P+1;if(138===_||void 0!==e[r]){let n=[],o=0,l=1,s="",_="none";s=d(e[r]),r+=1,"0"===s[2]&&"0"===s[3]&&(n.push("alarm triggered"),a.zclheader.alarmmsg=n),"0"===s[2]&&"1"===s[3]&&u(1,n,o,e,a,r),"1"===s[2]&&"0"===s[3]&&p(g,t,4,n,o,e,a,r,i,l,_)}}if(32850===g&&0===t){let t=P;a.data.frequency=(i(256*e[t+1]+e[t+2],2)+22232)/1e3,t+=2,a.data.frequency_min=(i(256*e[t+1]+e[t+2],2)+22232)/1e3,t+=2,a.data.frequency_max=(i(256*e[t+1]+e[t+2],2)+22232)/1e3,t+=2,a.data.Vrms=i(256*e[t+1]+e[t+2],2)/10,t+=2,a.data.Vrms_min=i(256*e[t+1]+e[t+2],2)/10,t+=2,a.data.Vrms_max=i(256*e[t+1]+e[t+2],2)/10,t+=2,a.data.Vpeak=i(256*e[t+1]+e[t+2],2)/10,t+=2,a.data.Vpeak_min=i(256*e[t+1]+e[t+2],2)/10,t+=2,a.data.Vpeak_max=i(256*e[t+1]+e[t+2],2)/10,t+=2,a.data.over_voltage=i(256*e[t+1]+e[t+2],2),t+=2,a.data.sag_voltage=i(256*e[t+1]+e[t+2],2)}if(32783===g){let i=P+1;if(0===t){let t=a.data.last={};t.NbTriggedAcq=n(e,i,"U32"),i+=4,t.Mean_X_G=n(e,i,"U16")/100,i+=2,t.Max_X_G=n(e,i,"U16")/100,i+=2,t.Dt_X_ms=n(e,i,"U16"),i+=2,t.Mean_Y_G=n(e,i,"U16")/100,i+=2,t.Max_Y_G=n(e,i,"U16")/100,i+=2,t.Dt_Y_ms=n(e,i,"U16"),i+=2,t.Mean_Z_G=n(e,i,"U16")/100,i+=2,t.Max_Z_G=n(e,i,"U16")/100,i+=2,t.Dt_Z_ms=n(e,i,"U16")}else if(1===t||2===t||3===t){let r=1===t?"Stats_X":2===t?"Stats_Y":"Stats_Z",o=a.data[r]={};o.NbAcq=n(e,i,"U16"),i+=2,o.MinMean_G=n(e,i,"U16")/100,i+=2,o.MinMax_G=n(e,i,"U16")/100,i+=2,o.MinDt=n(e,i,"U16"),i+=2,o.MeanMean_G=n(e,i,"U16")/100,i+=2,o.MeanMax_G=n(e,i,"U16")/100,i+=2,o.MeanDt=n(e,i,"U16"),i+=2,o.MaxMean_G=n(e,i,"U16")/100,i+=2,o.MaxMax_G=n(e,i,"U16")/100,i+=2,o.MaxDt=n(e,i,"U16"),i+=2}else if(32768===t){let t=a.data.params={};t.WaitFreq_Hz=n(e,i,"U16")/10,i+=2,t.AcqFreq_Hz=n(e,i,"U16")/10,i+=2;let r=n(e,i,"U16");i+=2,32768&r&&(r=60*(-32769&r)),t.NewWaitDelay_s=32768&r?r=60*(-32769&r):r,t.MaxAcqDuration_ms=n(e,i,"U16"),i+=2,t.Threshold_X_G=n(e,i,"U16")/100,i+=2,t.Threshold_Y_G=n(e,i,"U16")/100,i+=2,t.Threshold_Z_G=n(e,i,"U16")/100,i+=2,t.OverThrsh_Dt_ms=n(e,i,"U16"),i+=2,t.UnderThrsh_Dt_ms=n(e,i,"U16"),i+=2,t.Range_G=n(e,i,"U16")/100,i+=2,t.FilterSmoothCoef=n(e,i,"U8"),i+=1,t.FilterGainCoef=n(e,i,"U8"),i+=1,t=a.data.Params.working_modes={},t.SignalEachAcq=128&e[i]?"true":"false",t.RstAftStdRpt_X=1&e[i]?"true":"false",t.RstAftStdRpt_Y=2&e[i]?"true":"false",t.RstAftStdRpt_7=4&e[i]?"true":"false"}}}if(7===_){t=256*e[6]+e[7],a.zclheader.attID=o(t,4),a.zclheader.status=e[4],a.zclheader.report_parameters={};let i=d(e[5]);a.zclheader.report_parameters.new_mode_configuration=i[0],"0"===i[2]&&"0"===i[3]&&(a.zclheader.report_parameters.cause_request="none"),"0"===i[2]&&"1"===i[3]&&(a.zclheader.report_parameters.cause_request="short"),"1"===i[2]&&"0"===i[3]&&(a.zclheader.report_parameters.cause_request="long"),"1"===i[2]&&"1"===i[3]&&(a.zclheader.report_parameters.cause_request="reserved"),a.zclheader.report_parameters.secured_if_alarm=i[4],a.zclheader.report_parameters.secured=i[5],a.zclheader.report_parameters.no_hearde_port=i[6],a.zclheader.report_parameters.batch=i[7]}if(9===_){t=256*e[6]+e[7],a.zclheader.attID=o(t,4),a.zclheader.status=e[4],a.zclheader.report_parameters={};let i=d(e[5]);if(a.zclheader.report_parameters.new_mode_configuration=i[0],"0"===i[2]&&"0"===i[3]&&(a.zclheader.report_parameters.cause_request="none"),"0"===i[2]&&"1"===i[3]&&(a.zclheader.report_parameters.cause_request="short"),"1"===i[2]&&"0"===i[3]&&(a.zclheader.report_parameters.cause_request="long"),"1"===i[2]&&"1"===i[3]&&(a.zclheader.report_parameters.cause_request="reserved"),a.zclheader.report_parameters.secured_if_alarm=i[4],a.zclheader.report_parameters.secured=i[5],a.zclheader.report_parameters.no_hearde_port=i[6],a.zclheader.report_parameters.batch=i[7],a.zclheader.attribut_type=e[8],a.zclheader.min={},128==(128&e[9])?(a.zclheader.min.value=256*(e[9]-128)+e[10],a.zclheader.min.unit="minutes"):(a.zclheader.min.value=256*e[9]+e[10],a.zclheader.min.unit="seconds"),a.zclheader.max={},128==(128&e[11])?(a.zclheader.max.value=256*(e[11]-128)+e[12],a.zclheader.max.unit="minutes"):(a.zclheader.max.value=256*e[11]+e[12],a.zclheader.max.unit="seconds"),a.lora.payload="",80===g&&6===t){let t=e[13]/5,i=0;for(;t>0;)a.zclheader.modepower=e[14+5*i],a.zclheader.powersource=e[15+5*i],a.zclheader.delta=256*e[16+5*i]+e[17+5*i],a.zclheader.changedpowersource=e[18+5*i],i++,t--}}}else a.batch={},a.batch.report="batch";return a}e.exports={normalisation_standard:function(e,t){let a=[],i=e.bytes,r=!0,n=0,o=f(i,e.fPort);if(void 0!==o.zclheader){if(void 0!==o.zclheader.alarmmsg&&(a=o.zclheader.alarmmsg),7===i[1]&&i[0]%2!=0)return{data:o.zclheader,warning:a};if(9===i[1])return{data:o.zclheader,warning:a};if(1===i[1]){if(void 0===o.zclheader.data){let t=[];for(;r;){let a=Object.keys(o.data)[n];if(void 0===a){r=!1;break}t.push({variable:a,value:o.data[a],date:e.recvTime}),n++}return{data:t,type:"standard",warning:a}}return{data:{variable:"read reporting configuration response status",value:o.zclheader.data,date:e.recvTime},warning:a}}}if(void 0!==o.zclheader){if(void 0!==t){let i=o.zclheader.endpoint,r=!0,n=0,l=[],d="";for(;r;){let a=Object.keys(o.data)[n];if(void 0===a){r=!1;break}void 0===t[a]?l.push({variable:a,value:o.data[a],date:e.recvTime}):(d=t[a][i],"NA"===d?l.push({variable:d,value:"NA",date:e.recvTime}):l.push({variable:d,value:o.data[a],date:e.recvTime})),n++}return{data:l,type:"standard",warning:a}}{let t=!0,i=0,r=[];for(;t;){let a=Object.keys(o.data)[i];if(void 0===a){t=!1;break}r.push({variable:a,value:o.data[a],date:e.recvTime}),i++}return{data:r,type:"standard",warning:a}}}return{type:o.batch.report,payload:o.lora.payload}}}}},t={};function a(i){var r=t[i];if(void 0!==r)return r.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,a),n.exports}var i={};(()=>{var e=i;let t=a(810),r=[4,[{taglbl:0,resol:1,sampletype:10,lblname:"index_1",divide:1},{taglbl:1,resol:1,sampletype:10,lblname:"index_2",divide:1},{taglbl:2,resol:1,sampletype:10,lblname:"index_3",divide:1},{taglbl:3,resol:1,sampletype:1,lblname:"pin_state_1",divide:1},{taglbl:4,resol:1,sampletype:1,lblname:"pin_state_2",divide:1},{taglbl:5,resol:1,sampletype:1,lblname:"pin_state_3",divide:1},{taglbl:6,resol:.004,sampletype:12,lblname:"4-20_mA",divide:1},{taglbl:7,resol:1,sampletype:12,lblname:"0-5_V_1",divide:1},{taglbl:8,resol:1,sampletype:12,lblname:"0-5_V_2",divide:1},{taglbl:9,resol:1,sampletype:12,lblname:"ratiometric_0-5_V_1",divide:1},{taglbl:10,resol:1,sampletype:12,lblname:"ratiometric_0-5_V_2",divide:1},{taglbl:11,resol:100,sampletype:6,lblname:"battery_voltage",divide:1}]],n={analog:["4-20_mA","0-5_V_1","0-5_V_2 ","ratiometric_0-5_V_1","ratiometric_0-5_V_2"],index:["index_1","index_2","index_3"],pin_state:["pin_state_1","pin_state_2","pin_state_3"],pin_state_4:["NA"],pin_state_5:["NA"],pin_state_6:["NA"],pin_state_7:["NA"],pin_state_8:["NA"],pin_state_9:["NA"],pin_state_10:["NA"]};e.decodeUplink=function(e){return t.watteco_decodeUplink(e,r,n)}})(),driver=i})();